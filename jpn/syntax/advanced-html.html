<!DOCTYPE html>
<html>
<head>
<meta name="author" content="Daiki Umeda (XJINE)">
<meta name="generator" content="BlackBoard">
<meta name="generator" content="KARAS">
<meta charset="UTF-8">
<title>KARAS - Advanced - HTML</title>
<link rel="stylesheet" href="../../resource/default.css" type="text/css" media="all" charset="">
<meta property="og:site_name" content="KARAS">
<meta property="og:title" content="Lightweight Markup Language - KARAS">
<meta property="og:url" content="http://lightweightmarkuplanguage.com/">
<meta property="og:image" content="http://lightweightmarkuplanguage.com/resource/ogpimg.jpg">
<meta property="og:description" content="KARAS is a next generation lightweight markup language. The syntax is quite simple and beautiful.">
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-44157178-2', 'lightweightmarkuplanguage.com');
ga('send', 'pageview');
</script>
</head>
<body>
<div id="outframe">
    <header>
        <a id="logo" href="../index.html" title="Top"></a>
        <div id="pagetitle">
            <h1><a href="../index.html">KARAS</a></h1>
            <h1><a href="../index.html">Lightweight Markup Language</a></h1>
        </div>
        <div id="socialbutton">
            <a href="http://twitter.com/share?text='Lightweight Markup Language - KARAS'&amp;url=http://lightweightmarkuplanguage.com"
               title="Share on Twitter" 
               onclick="javascript:window.open(this.href,'Twitter','menubar=no,toolbar=no,scrollbars=yes,resizable=yes,height=300,width=450');
                        return false;">
                <img src="../../resource/tw_35x.png" alt="Share on Twitter">
            </a>
            <a href="http://www.facebook.com/share.php?u=http://lightweightmarkuplanguage.com"
               title="Share on Facebook" 
               onclick="javascript:window.open(this.href,'Facebook','menubar=no,toolbar=no,scrollbars=yes,resizable=yes,height=300,width=450');
                        return false;">
                <img src="../../resource/fb_35x.png" alt="Share on Facebook">
            </a>
            <a href="https://plus.google.com/share?url=http://lightweightmarkuplanguage.com"
               title="Share on Google+" 
               onclick="javascript:window.open(this.href,'Google+','menubar=no,toolbar=no,scrollbars=yes,resizable=yes,height=600,width=600');
                        return false;">
                <img src="../../resource/gp_35x.png" alt="Share on Google+">
            </a>
            <a href="https://github.com/KARAS-LightweightMarkupLanguage"
               title="Go to GitHub" target="_blank">
                <img src="../../resource/gh_35x.png" alt="Go to GitHub">
            </a>
        </div>
    </header>
    <div id="contents">
        <div id="sidebar">
            <ul class="menu">
                <li><a href="../syntax/index.html" title="Syntax">Syntax</a></li>
                <li><a href="../download.html" title="Download">Download</a></li>
                <li><a href="../license.html" title="License">License</a></li>
                <li><a href="../development/index.html" title="Development">Development</a></li>
                <li><a href="../donation.html" title="Donation">Donation</a></li>
                <li><a href="../information.html" title="Donation">Information</a></li>
            </ul>
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <!-- KARAS_Side_160x600 -->
            <ins class="adsbygoogle"
                 style="display:inline-block;width:160px;height:600px"
                 data-ad-client="ca-pub-9133526697051515"
                 data-ad-slot="6825762586"></ins>
            <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
        <div id="maincolumn">
            <div id="pageinfo">
                <div id ="topicpath"><a href="../index.html">Top</a>&nbsp;&gt;&nbsp;<a href="../syntax/index.html">Syntax</a>&nbsp;&gt;&nbsp;<a href="advanced-html.html">Advanced - HTML</a></div>
                <div id="lastmodified">Last modified : 2014. 06. 11</div>
            </div>
            <article>
            <h1 id="advancedhtml">Advanced - HTML</h1>
<p>KARAS を用いて書かれたテキストの中には HTML 含めることができます。これは KARAS の構文だけでは対応できない内容を出力するためのルールです。多くの場合に、KARAS は適切な結果を出力しますが、もしも結果があなたの思うようにならないときは、 HTML を直接書いてください。このページでは HTML に関するルールについて説明します。</p>
<div class="note">
<p>KARAS が導入されたシステムによっては、セキュリティのために、あるいは出力されるフォーマットのために、 HTML の挿入ができないこともあります。</p>
</div>
<ul>
<li><a href="#easiestsample">最も簡単なサンプル</a></li>
<li><a href="#beginltmark">&lt; から始まるテキスト</a></li>
<li><a href="#blanklineinhtml">HTML の中の空の行</a></li>
<li><a href="#wornguse">誤った使い方</a>
<ul>
<li><a href="#worngsamplea">例 - 1</a></li>
<li><a href="#wrongsampleb">例 - 2</a></li>
<li><a href="#wrongsamplec">例 - 3</a></li>
</ul>
<li><a href="#ltgtinprecodesamp"><i>pre</i>, <i>code</i>, <i>samp</i> 要素内にある &lt; と &gt;</a></li>
</ul>
<h2 id="easiestsample">最も簡単なサンプル</h2>
<p>例えば、あなたは次のようなテキストを書くことができます。</p>
<figure>
<figcaption>Input</figcaption>
<pre class="karas"><code class="karas">This is &lt;mark&gt;sample&lt;/mark&gt; text.</code></pre>
</figure>
<figure>
<figcaption>Output</figcaption>
<pre class="html"><code class="html">&lt;p&gt;This is &lt;mark&gt;sample&lt;/mark&gt; text.&lt;/p&gt;</code></pre>
</figure>
<p>次のように KARAS の構文の中に HTML を書くこともできますし、 HTML 要素の中に KARAS の構文を書くこともできます。</p>
<figure>
<figcaption>Input</figcaption>
<pre class="karas"><code class="karas">= This is &lt;mark&gt;heading&lt;/mark&gt; sample.

This is &lt;mark&gt;// sample //&lt;/mark&gt; text.</code></pre>
</figure>
<figure>
<figcaption>Output</figcaption>
<pre class="html"><code class="html">&lt;h1&gt;This is &lt;mark&gt;heading&lt;/mark&gt;sample.&lt;/h1&gt;

&lt;p&gt;This is &lt;mark&gt;&lt;i&gt;sample&lt;/i&gt;&lt;/mark&gt; text.&lt;/p&gt;</code></pre>
</figure>
<h2 id="beginltmark">&lt; から始まるテキスト</h2>
<p>1つの <code>&lt;</code> 記号で開始するテキストは、HTML テキストと見なされます。HTML テキストはパラグラフになりません。 &lt; で始まるテキストが HTML タグでないときも、パラグラフにならないので注意が必要です。ふつう、記号 &lt; と &gt; は、それぞれ <code>&amp;lt;</code> と <code>&amp;gt;</code> のように文字参照を使って書かれます。</p>
<p>例えば、もしもあなたが <i>mark</i> 要素で始まるテキストを書くとき、そのテキストはパラグラフになりません。</p>
<figure>
<figcaption>Input</figcaption>
<pre class="karas"><code class="karas">&lt;mark&gt;This&lt;/mark&gt; sample text has wrong.

&lt;This sample text has wrong.</code></pre>
</figure>
<figure>
<figcaption>Output</figcaption>
<pre class="html"><code class="html">&lt;mark&gt;This&lt;/mark&gt; sample text has wrong.

&lt;This sample text has wrong.</code></pre>
</figure>
<p><i>mark</i> 要素の後に続くテキストが HTML の要素で閉じられていないので、出力結果 (HTML) は誤った構造を持っています。</p>
<p>この問題を解決するには、<code>\</code> を先頭に書いてエスケープします。あるいは、正しい HTML 要素を直接書きます。ここでは <i>p</i> 要素です。</p>
<figure>
<figcaption>Input</figcaption>
<pre class="karas"><code class="karas">\&lt;mark&gt;This&lt;/mark&gt; sample text is correct.

&lt;p&gt;&lt;mark&gt;This&lt;/mark&gt; sample text is correct.&lt;/p&gt;</code></pre>
</figure>
<figure>
<figcaption>Output</figcaption>
<pre class="html"><code class="html">&lt;p&gt;&lt;mark&gt;This&lt;/mark&gt; sample text is correct.&lt;/p&gt;
 
&lt;p&gt;&lt;mark&gt;This&lt;/mark&gt; sample text is correct.&lt;/p&gt;</code></pre>
</figure>
<p><strong><code>&lt;</code> で開始するテキストに含まれる KARAS の構文は変換されないので注意してください。</strong>例えば次のようなとき、 KARAS の構文は変換されず、そのまま出力されます。ここでは <i>p</i> 要素の例を示していますが、<i>h1</i> 要素や <i>div</i> 要素なども同様に変換されません。</p>
<figure>
<figcaption>Input</figcaption>
<pre class="karas"><code class="karas">&lt;p&gt;This is &lt;mark&gt;// sample //&lt;/mark&gt; text.&lt;/p&gt;</code></pre>
</figure>
<figure>
<figcaption>Output</figcaption>
<pre class="html"><code class="html">&lt;p&gt;This is &lt;mark&gt;// sample //&lt;/mark&gt; text.&lt;/p&gt;</code></pre>
</figure>
<p>KARAS では、パラグラフは空行やその他の KARAS の構文によって区切られます。次の例では、2行目のテキストが <code>&lt;</code> で始まりますが、パラグラフになります。これは1行目がパラグラフの開始位置であるためです。</p>
<figure>
<figcaption>Input</figcaption>
<pre class="karas"><code class="karas">This text become a paragraph.
&lt;mark&gt;This&lt;/mark&gt; line included in paragraph.</code></pre>
</figure>
<figure>
<figcaption>Output</figcaption>
<pre class="html"><code class="html">&lt;p&gt;This text become a paragraph.
&lt;mark&gt;This&lt;/mark&gt; line included in paragraph.&lt;/p&gt;</code></pre>
</figure>
<p>記号 <code>&lt;&lt;</code> を使う KARAS の構文(インライングループ)は、 HTML テキストとは見なされず、変換されます。次の例のテキストは、パラグラフになります。</p>
<figure>
<figcaption>Input</figcaption>
<pre class="karas"><code class="karas">&lt;&lt;sample::This&gt;&gt; text become a paragraph.</code></pre>
</figure>
<figure>
<figcaption>Output</figcaption>
<pre class="html"><code class="html">&lt;p&gt;&lt;span class=&#34;sample&#34;&gt;This&lt;/span&gt; text become a paragraph.&lt;/p&gt;</code></pre>
</figure>
<h2 id="blanklineinhtml">HTML の中の空の行</h2>
<p>HTML の中に空の行が含まれるときは注意が必要です。 KARAS は空の行によってテキストを分割します。例えば次のようなテキストを書くとき、出力結果は誤った構造を持ちます。</p>
<figure>
<figcaption>Input</figcaption>
<pre class="karas"><code class="karas">&lt;p&gt;This HTML is written by User.

This line is enclosed with blank-line.

&lt;/p&gt;</code></pre>
</figure>
<figure>
<figcaption>Output</figcaption>
<pre class="html"><code class="html">&lt;p&gt;This HTML is written by User. 
&lt;p&gt;This line is enclosed with blank-line.&lt;/p&gt; 
&lt;/p&gt;</code></pre>
</figure>
<p>空の行から開始されるテキストがあるので、KARAS はそのテキストをパラグラフ (<i>p</i> 要素) に変換します。 HTML では、 <i>p</i> 要素の中に <i>p</i> 要素を入れることはできません。したがって、この出力結果は誤った構造を持ちます。この問題は <i>p</i> 要素だけのものではありません。 <i>p</i> 要素を入れることができないあらゆる HTML 要素がこの問題を持っています。</p>
<p>一方で、これを利用して、 <i>p</i> 要素を HTML の中に KARAS の構文を入れる方法もあります。例えば、次のようなテキストは、正しい出力結果に変換されます。</p>
<figure>
<figcaption>Input</figcaption>
<pre class="karas"><code class="karas">&lt;div id=&#34;sample&#34;&gt;

This line is enclosed with blank-line.

&lt;/div&gt;</code></pre>
</figure>
<figure>
<figcaption>Output</figcaption>
<pre class="html"><code class="html">&lt;div id=&#34;sample&#34;&gt;
&lt;p&gt;This line is enclosed with blank-line.&lt;/p&gt; 
&lt;/div&gt;</code></pre>
</figure>
<h2 id="wornguse">誤った使い方</h2>
<p>KARAS と HTML を組み合わせるときには、次のような誤った使い方に注意が必要です。 HTML を書くときは、 HTML ドキュメントに関する正しい知識を持っていることが重要となります。</p>
<h3 id="worngsamplea">例 - 1</h3>
<p>KARAS で書かれたドキュメントの中にある HTML によって、出力されるHTMLドキュメントが誤った構造を持つことがあります。例えば次のようなテキストは誤りです。</p>
<figure>
<figcaption>Input</figcaption>
<pre class="karas"><code class="karas">= &lt;h1&gt;Heading text&lt;/h1&gt;</code></pre>
</figure>
<figure>
<figcaption>Output</figcaption>
<pre class="html"><code class="html">&lt;h1&gt;&lt;h1&gt;Heading&lt;/h1&gt;&lt;/h1&gt;</code></pre>
</figure>
<p>HTML では、<i>h1-6</i> 要素の中には <i>h1-6</i> 要素(フローコンテンツ)を含めることができません。したがって、この HTML ドキュメントの構造は誤りです。</p>
<h3 id="wrongsampleb">例 - 2</h3>
<p>KARAS は、連続するテキストを1つのブロックと見なします。HTML 要素もそのブロックに含まれることがあります。</p>
<p>したがって、例えば、<i>p</i> 要素(パラグラフ) の中に入れることができない HTML 要素が、p 要素内に含まれないように注意してください。次のテキストは、誤った構造を持っています。 <i>p</i> 要素 (パラグラフ) は <i>ul</i> 要素を含めることができません。</p>
<figure>
<figcaption>Input</figcaption>
<pre class="karas"><code class="karas">This text become a paragraph.
&lt;ul&gt;
&lt;li&gt;This HTML element is written a user.&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</figure>
<figure>
<figcaption>Output</figcaption>
<pre class="html"><code class="html">&lt;p&gt;This text become a paragraph.
&lt;ul&gt;
&lt;li&gt;This HTML element is written a user.&lt;/li&gt;
&lt;/ul&gt;&lt;/p&gt;</code></pre>
</figure>
<p>この問題を解決するには、 <i>ul</i> 要素の前に空行を入れます。</p>
<figure>
<figcaption>Input</figcaption>
<pre class="karas"><code class="karas">This text become a paragraph.

&lt;ul&gt;
&lt;li&gt;This HTML element is written a user.&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</figure>
<figure>
<figcaption>Output</figcaption>
<pre class="html"><code class="html">&lt;p&gt;This text become a paragraph.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This HTML element is written a user.&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</figure>
<h3 id="wrongsamplec">例 - 3</h3>
<p>KARAS の構文と HTML とが組み合わせられないパターンもあります。例えば次のようにリストを書くときです。 <i>ul</i> 要素の中に2つの <i>li</i>要素が含まれるように見えますが、出力結果は期待した通りにはなりません。</p>
<figure>
<figcaption>Input</figcaption>
<pre class="karas"><code class="karas">- KARAS list
&lt;li&gt; HTML list &lt;/li&gt;</code></pre>
</figure>
<figure>
<figcaption>Output</figcaption>
<pre class="html"><code class="html">&lt;ul&gt;
&lt;li&gt;KARAS list
&lt;li&gt; HTML list &lt;/li&gt;&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</figure>
<p>ここでは <i>ul</i> 要素や <i>li</i> 要素の例を示していますが、例えばテーブルなどでも同じです。</p>
<h2 id="ltgtinprecodesamp"><i>pre</i>, <i>code</i>, <i>samp</i> 要素内にある &lt; と &gt;</h2>
<p>KARAS は <i>pre</i>, <i>code</i>, <i>samp</i> 要素を出力するためのブロックグループ構文を持っています。これらのブロックグループの中に書かれた記号 &lt; と &gt; は文字参照に変換して出力されます。しかし、 <strong><i>pre</i>, <i>code</i>, <i>samp</i> 要素が HTML として直接書かれるとき、その中の記号 &lt; と &gt; は変換されません。また、それらの要素にある KARAS の構文も変換されません。</strong></p>
            </article>
            <footer>
<p><small><a href="http://lightweightmarkuplanguage.com">&copy; KARAS - Lightweight Markup Language</a></small></p>
            </footer>
        </div>
    </div>
</div>
</body>
</html>